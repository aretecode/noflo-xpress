# Adding an Express server listening on a port
'3031' -> PORT Server(xpress/Server)

# Splitting the flow into several routes
Server APP -> APP EndpointRoute(xpress/Route:filter=on)
'get /endpoint' -> PATTERN EndpointRoute
Server APP -> APP HelloRoute(xpress/Route)
'get /hello' -> PATTERN HelloRoute
Server APP -> APP ProtectedArea(xpress/RouteGroup:path=on,filter=on)
'/admin' -> PATH ProtectedArea
ProtectedArea ROUTER -> APP DashboardRoute(xpress/Route)
'get /dashboard' -> PATTERN DashboardRoute
ProtectedArea ROUTER -> APP AddUserRoute(xpress/Route)
'post /add-user' -> PATTERN AddUserRoute

# Adding filters to some routes
Server APP -> NEW EndpointFilter(xpress/TestFilter)
'api' -> PASS EndpointFilter
EndpointFilter FILTER -> FILTER EndpointRoute
Server APP -> NEW AuthFilter(xpress/TestFilter)
'noflo' -> PASS AuthFilter
AuthFilter FILTER -> FILTER ProtectedArea

# Route-specific pipelines
EndpointRoute REQ -> REQ Endpoint(xpress/TestHello)
HelloRoute REQ -> REQ Hello(xpress/TestHello)
DashboardRoute REQ -> REQ Dashboard(xpress/TestHello)
AddUserRoute REQ -> REQ AddUser(xpress/TestWorld)

# Server-level errors
Server ERROR -> IN Logger(xpress/TestLogger)
HelloRoute ERROR -> IN Logger
EndpointRoute ERROR -> IN Logger
