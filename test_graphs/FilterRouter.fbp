# Customizing the basic server with app-specific middleware
Server(xpress/Server) APP -> APP Middle(xpress/TestMiddleware)
'3031' -> PORT Server

# Splitting the flow into several routes
Middle APP -> APP EndpointRoute(xpress/Route:filter=on)
'get /endpoint' -> PATTERN EndpointRoute
Middle APP -> APP HelloRoute(xpress/Route)
'get /hello' -> PATTERN HelloRoute
Middle APP -> APP ProtectedArea(xpress/Router:path=on,filter=on)
'/admin' -> PATH ProtectedArea
ProtectedArea ROUTER -> APP DashboardRoute(xpress/Route)
'get /dashboard' -> PATTERN DashboardRoute
ProtectedArea ROUTER -> APP AddUserRoute(xpress/Route)
'post /add-user' -> PATTERN AddUserRoute

# Adding filters to some routes
Server APP -> NEW EndpointFilter(xpress/TestFilter)
'api' -> PASS EndpointFilter
EndpointFilter FILTER -> FILTER EndpointRoute
Server APP -> NEW AuthFilter(xpress/TestFilter)
'noflo' -> PASS AuthFilter
AuthFilter FILTER -> FILTER ProtectedArea

# Route-specific pipelines
EndpointRoute REQ -> REQ Endpoint(xpress/TestHello)
HelloRoute REQ -> REQ Hello(xpress/TestHello)
DashboardRoute REQ -> REQ Dashboard(xpress/TestHello)
AddUserRoute REQ -> REQ AddUser(xpress/TestWorld)

# Server-level errors
Server ERROR -> IN Logger(xpress/TestLogger)
Middle ERROR -> IN Logger
HelloRoute ERROR -> IN Logger
EndpointRoute ERROR -> IN Logger

